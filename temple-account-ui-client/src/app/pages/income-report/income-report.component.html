<h1 mat-dialog-title>Income Report</h1>     

<div class="dashboard">   

  <div data-layout="row" data-layout-lt-lg="column">
    <div class="dashboard-left" data-flex-gt-lg="50" data-flex-lt-lg="100">
      <h3 class="card-title" matToolTip="Click on a section of the pie chart or the legend to reload table">Summary View</h3>
        <app-pie-chart
          [pieChartData]="pieChartData"
          [loading]="pieChartLoading"
          [groupByField]="groupByField"
          (chartClicked)="openExportSheet($event)">
        </app-pie-chart>
    </div>
    <div class="dashboard-right" data-flex-gt-lg="50" data-flex-lg="50" data-flex-lt-lg="100">
      <h3 class="card-title" matToolTip="This table displays transactions returned by current search filters">Payment Transactions</h3>
      <a class="export-link" 
          (click)="openExport(params)"
          matToolTip="Click here to export search results!"
          matToolTipPosition="right"
          target="_blank">Export Results
      </a>
      <div class="mat-elevation-z8">
    
        <table matSort mat-table [dataSource]="dataSource" class="mat-elevation-z8" matSortActive="sum" matSortDirection="desc" matSortDisableClear>
          
            <ng-container matColumnDef="description">
              <th mat-sort-header mat-header-cell *matHeaderCellDef > Description</th>
              <td mat-cell *matCellDef="let element">{{element.description}}</td>
            </ng-container>
        
            <ng-container matColumnDef="count">
              <th mat-sort-header mat-header-cell *matHeaderCellDef> Count</th>
              <td mat-cell *matCellDef="let element">{{element.count}}</td>
            </ng-container>
        
            <ng-container matColumnDef="sum">
              <th mat-sort-header mat-header-cell *matHeaderCellDef> Total Amount</th>
              <td mat-cell *matCellDef="let element">{{element.sum}}</td>
            </ng-container>
        
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row;columns:displayedColumns"></tr>
        
        </table>
          <mat-paginator class="custom-paginator" [length]="100" [pageSize]="10" [pageSizeOptions]="[5,10,20]" showFirstLastButtons></mat-paginator>
      </div>
    </div>
  </div>
</div>
